function makeSpiral(n) {
    if (n === 5) {
        return [
            [1, 1, 1, 1, 1],
            [0, 0, 0, 0, 1],
            [1, 1, 1, 0, 1],
            [1, 0, 0, 0, 1],
            [1, 1, 1, 1, 1]];
    };
    if (n === 6) {
        return [
            [1, 1, 1, 1, 1, 1],
            [0, 0, 0, 0, 0, 1],
            [1, 1, 1, 1, 0, 1],
            [1, 0, 0, 1, 0, 1],
            [1, 0, 0, 0, 0, 1],
            [1, 1, 1, 1, 1, 1]];
    };
    if (n === 7) {
        return [
            [1, 1, 1, 1, 1, 1, 1],
            [0, 0, 0, 0, 0, 0, 1],
            [1, 1, 1, 1, 1, 0, 1],
            [1, 0, 0, 0, 1, 0, 1],
            [1, 0, 1, 1, 1, 0, 1],
            [1, 0, 0, 0, 0, 0, 1],
            [1, 1, 1, 1, 1, 1, 1]];
    };
    if (n === 8) {
        return [
            [1, 1, 1, 1, 1, 1, 1, 1],
            [0, 0, 0, 0, 0, 0, 0, 1],
            [1, 1, 1, 1, 1, 1, 0, 1],
            [1, 0, 0, 0, 0, 1, 0, 1],
            [1, 0, 1, 0, 0, 1, 0, 1],
            [1, 0, 1, 1, 1, 1, 0, 1],
            [1, 0, 0, 0, 0, 0, 0, 1],
            [1, 1, 1, 1, 1, 1, 1, 1]];
    };

    let result = [Array(n).fill(1), [...Array(n - 1).fill(0), 1], [1, 1, ...makeSpiral(n - 4)[0], 0, 1]];
    for (let i = 1; i < n - 4; i++) {
        result.push([1, 0, ...makeSpiral(n - 4)[i], 0, 1]);
    }
    result.push([1, ...Array(n - 2).fill(0), 1]);
    result.push(Array(n).fill(1));
    return result;
}
console.log(makeSpiral(28).forEach(e => console.log(e)));
